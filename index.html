<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JavaScript Code Obfuscator</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #1a2a6c, #b21f1f, #fdbb2d);
            color: #fff;
            min-height: 100vh;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        
        .container {
            max-width: 1200px;
            width: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            margin-top: 20px;
        }
        
        h1 {
            text-align: center;
            margin-bottom: 10px;
            font-size: 2.5rem;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
        }
        
        .subtitle {
            text-align: center;
            margin-bottom: 30px;
            color: #ccc;
        }
        
        .editor-container {
            display: flex;
            gap: 20px;
            margin-bottom: 25px;
        }
        
        .editor-panel {
            flex: 1;
            display: flex;
            flex-direction: column;
        }
        
        .panel-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }
        
        label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
        }
        
        textarea {
            width: 100%;
            height: 300px;
            padding: 15px;
            border: none;
            border-radius: 8px;
            background-color: #1e1e1e;
            color: #d4d4d4;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            resize: vertical;
            transition: all 0.3s ease;
        }
        
        textarea:focus {
            outline: none;
            box-shadow: 0 0 0 2px #4dabf7;
        }
        
        .buttons {
            display: flex;
            justify-content: space-between;
            gap: 15px;
            margin-bottom: 25px;
        }
        
        button {
            flex: 1;
            padding: 12px 20px;
            border: none;
            border-radius: 8px;
            background: linear-gradient(to right, #3498db, #2980b9);
            color: white;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }
        
        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }
        
        button:active {
            transform: translateY(0);
        }
        
        #obfuscateBtn {
            background: linear-gradient(to right, #e74c3c, #c0392b);
        }
        
        #deobfuscateBtn {
            background: linear-gradient(to right, #2ecc71, #27ae60);
        }
        
        #copyBtn {
            background: linear-gradient(to right, #9b59b6, #8e44ad);
        }
        
        #executeBtn {
            background: linear-gradient(to right, #f39c12, #e67e22);
        }
        
        .result-group {
            margin-top: 20px;
        }
        
        .info {
            background-color: rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            padding: 15px;
            margin-top: 25px;
            font-size: 14px;
            line-height: 1.6;
        }
        
        .info h3 {
            margin-bottom: 10px;
            color: #4dabf7;
        }
        
        .info ul {
            padding-left: 20px;
        }
        
        .info li {
            margin-bottom: 8px;
        }
        
        .level-selector {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            justify-content: center;
            flex-wrap: wrap;
        }
        
        .level-btn {
            padding: 8px 16px;
            border: 2px solid #3498db;
            border-radius: 20px;
            background: transparent;
            color: #3498db;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .level-btn.active {
            background: #3498db;
            color: white;
        }
        
        .level-btn.extreme {
            border-color: #e74c3c;
            color: #e74c3c;
        }
        
        .level-btn.extreme.active {
            background: #e74c3c;
            color: white;
        }
        
        .warning {
            color: #ff9999;
            font-size: 14px;
            margin-top: 10px;
            text-align: center;
        }
        
        .output-console {
            background-color: #1e1e1e;
            border-radius: 8px;
            padding: 15px;
            margin-top: 20px;
            height: 150px;
            overflow-y: auto;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            color: #d4d4d4;
        }
        
        .console-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }
        
        .console-header h3 {
            color: #4dabf7;
        }
        
        #clearConsole {
            background: #e74c3c;
            padding: 5px 10px;
            border-radius: 4px;
            font-size: 12px;
        }
        
        @media (max-width: 900px) {
            .editor-container {
                flex-direction: column;
            }
            
            .buttons {
                flex-direction: column;
            }
            
            .level-selector {
                flex-wrap: wrap;
            }
        }
    </style>
</head>
<body>
    <h1>JavaScript Code Obfuscator</h1>
    <p class="subtitle">Obfuscate kode JavaScript sehingga tetap bisa dijalankan</p>
    
    <div class="container">
        <div class="level-selector">
            <button class="level-btn active" data-level="basic">Basic</button>
            <button class="level-btn" data-level="medium">Medium</button>
            <button class="level-btn" data-level="advanced">Advanced</button>
            <button class="level-btn extreme" data-level="extreme">Extreme</button>
        </div>
        
        <div class="editor-container">
            <div class="editor-panel">
                <div class="panel-header">
                    <label for="inputCode">Kode JavaScript Asli:</label>
                    <button id="loadExample">Load Contoh</button>
                </div>
                <textarea id="inputCode" placeholder="Masukkan kode JavaScript di sini...">// Contoh kode JavaScript
function greet(name) {
    return "Halo, " + name + "!";
}

function calculate(a, b) {
    let sum = a + b;
    let product = a * b;
    return { sum, product };
}

console.log(greet("Developer"));
let result = calculate(5, 3);
console.log("Hasil:", result);</textarea>
            </div>
            
            <div class="editor-panel">
                <div class="panel-header">
                    <label for="outputCode">Kode Hasil Obfuscation:</label>
                    <span id="charCount">0 karakter</span>
                </div>
                <textarea id="outputCode" placeholder="Kode hasil obfuscation akan muncul di sini..." readonly></textarea>
            </div>
        </div>
        
        <div class="buttons">
            <button id="obfuscateBtn">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path>
                </svg>
                Obfuscate Code
            </button>
            <button id="deobfuscateBtn">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                    <circle cx="12" cy="12" r="3"></circle>
                </svg>
                Deobfuscate
            </button>
            <button id="executeBtn">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <polygon points="5 3 19 12 5 21 5 3"></polygon>
                </svg>
                Execute Code
            </button>
            <button id="copyBtn">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                    <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
                </svg>
                Salin Kode
            </button>
        </div>
        
        <div class="console-header">
            <h3>Output Console:</h3>
            <button id="clearConsole">Bersihkan Console</button>
        </div>
        <div class="output-console" id="outputConsole"></div>
        
        <div class="warning" id="extremeWarning" style="display: none;">
            PERINGATAN: Level Extreme menggunakan teknik obfuscation yang sangat agresif. 
            Kode mungkin menjadi sangat sulit dibaca dan ukurannya bertambah signifikan.
        </div>
        
        <div class="info">
            <h3>Tentang JavaScript Obfuscation</h3>
            <p>Obfuscation kode JavaScript mengubah kode menjadi bentuk yang sulit dipahami manusia, tetapi tetap dapat dijalankan oleh mesin JavaScript.</p>
            <p>Teknik yang digunakan:</p>
            <ul>
                <li><strong>Basic:</strong> Mengganti nama variabel, menghapus komentar dan spasi</li>
                <li><strong>Medium:</strong> Encoding string, transformasi kontrol flow</li>
                <li><strong>Advanced:</strong> Obfuscation fungsi, dead code injection, string splitting</li>
                <li><strong>Extreme:</strong> Semua teknik di atas plus self-modifying code, multiple encoding layers</li>
            </ul>
            <p>Gunakan tombol "Execute Code" untuk menjalankan kode yang telah diobfuscate dan lihat hasilnya di console.</p>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const inputCode = document.getElementById('inputCode');
            const outputCode = document.getElementById('outputCode');
            const obfuscateBtn = document.getElementById('obfuscateBtn');
            const deobfuscateBtn = document.getElementById('deobfuscateBtn');
            const copyBtn = document.getElementById('copyBtn');
            const executeBtn = document.getElementById('executeBtn');
            const loadExampleBtn = document.getElementById('loadExample');
            const clearConsoleBtn = document.getElementById('clearConsole');
            const outputConsole = document.getElementById('outputConsole');
            const levelButtons = document.querySelectorAll('.level-btn');
            const charCount = document.getElementById('charCount');
            const extremeWarning = document.getElementById('extremeWarning');
            
            let currentLevel = 'basic';
            
            // Contoh kode JavaScript
            const exampleCode = `// Contoh kode JavaScript
function greet(name) {
    return "Halo, " + name + "!";
}

function calculate(a, b) {
    let sum = a + b;
    let product = a * b;
    return { sum, product };
}

// Contoh penggunaan
console.log(greet("Developer"));
let result = calculate(5, 3);
console.log("Hasil:", result);

// Contoh loop dan kondisi
for (let i = 0; i < 5; i++) {
    if (i % 2 === 0) {
        console.log(i + " adalah genap");
    } else {
        console.log(i + " adalah ganjil");
    }
}`;
            
            // Level selection
            levelButtons.forEach(btn => {
                btn.addEventListener('click', function() {
                    levelButtons.forEach(b => b.classList.remove('active'));
                    this.classList.add('active');
                    currentLevel = this.getAttribute('data-level');
                    
                    // Tampilkan peringatan untuk level extreme
                    if (currentLevel === 'extreme') {
                        extremeWarning.style.display = 'block';
                    } else {
                        extremeWarning.style.display = 'none';
                    }
                });
            });
            
            // Obfuscation functions
            function generateRandomName(length = 6) {
                const chars = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ';
                let result = '';
                for (let i = 0; i < length; i++) {
                    result += chars.charAt(Math.floor(Math.random() * chars.length));
                }
                return result;
            }
            
            function base64Encode(str) {
                return btoa(unescape(encodeURIComponent(str)));
            }
            
            function base64Decode(str) {
                return decodeURIComponent(escape(atob(str)));
            }
            
            function stringToHex(str) {
                let hex = '';
                for (let i = 0; i < str.length; i++) {
                    hex += str.charCodeAt(i).toString(16).padStart(2, '0');
                }
                return hex;
            }
            
            function hexToString(hex) {
                let str = '';
                for (let i = 0; i < hex.length; i += 2) {
                    str += String.fromCharCode(parseInt(hex.substr(i, 2), 16));
                }
                return str;
            }
            
            function rot13(str) {
                return str.replace(/[a-zA-Z]/g, function(c) {
                    return String.fromCharCode((c <= 'Z' ? 90 : 122) >= (c = c.charCodeAt(0) + 13) ? c : c - 26);
                });
            }
            
            function basicObfuscate(code) {
                // Hapus komentar
                let result = code.replace(/\/\/.*$/gm, '');
                result = result.replace(/\/\*[\s\S]*?\*\//g, '');
                
                // Hapus spasi berlebihan dan baris kosong
                result = result.replace(/\s+/g, ' ').trim();
                
                // Ganti nama variabel dan fungsi sederhana
                const varMap = new Map();
                let varCounter = 0;
                
                // Temukan variabel dan fungsi
                const varRegex = /(?:var|let|const|function)\s+([a-zA-Z_$][a-zA-Z0-9_$]*)/g;
                let match;
                while ((match = varRegex.exec(result)) !== null) {
                    const varName = match[1];
                    if (!varMap.has(varName) && varName.length > 2) {
                        varMap.set(varName, generateRandomName());
                    }
                }
                
                // Ganti nama variabel
                varMap.forEach((newName, oldName) => {
                    const regex = new RegExp('\\b' + oldName + '\\b', 'g');
                    result = result.replace(regex, newName);
                });
                
                return result;
            }
            
            function mediumObfuscate(code) {
                let result = basicObfuscate(code);
                
                // Encode string literal
                const stringRegex = /"([^"\\]*(\\.[^"\\]*)*)"|'([^'\\]*(\\.[^'\\]*)*)'/g;
                result = result.replace(stringRegex, (match) => {
                    // Jangan encode string yang mengandung backticks (template literals)
                    if (match.includes('`')) return match;
                    
                    const content = match.slice(1, -1);
                    return `atob('${btoa(content)}')`;
                });
                
                // Transformasi kontrol flow sederhana
                result = result.replace(/if\s*\((.*?)\)\s*{/g, 
                    'if((!!($1))!==false){');
                
                return result;
            }
            
            function advancedObfuscate(code) {
                let result = mediumObfuscate(code);
                
                // Tambahkan dead code
                const deadCode = `
                ;(function(){
                    var ${generateRandomName()} = ${Math.floor(Math.random() * 1000)};
                    var ${generateRandomName()} = "${generateRandomName()}";
                    return false;
                })();
                `;
                
                // Sisipkan dead code di beberapa tempat
                const lines = result.split(';');
                if (lines.length > 3) {
                    const insertPos = Math.floor(lines.length / 2);
                    lines.splice(insertPos, 0, deadCode);
                    result = lines.join(';');
                }
                
                // String splitting
                result = result.replace(/console\.log/g, 
                    `(Function('return "'+'con'+'sole'+'.'+'log'+'"')())`);
                
                return result;
            }
            
            function extremeObfuscate(code) {
                let result = advancedObfuscate(code);
                
                // Multiple encoding layers
                result = `eval((function(){var ${generateRandomName()}='${btoa(rot13(result))}';return atob(${generateRandomName()}).split('').map(function(c){return String.fromCharCode((c<='Z'?90:122)>=(c=c.charCodeAt(0)+13)?c:c-26);}).join('');})());`;
                
                // Tambahkan self-modifying code
                result = `(function(){${result}; return ${generateRandomName()} || true;})();`;
                
                return result;
            }
            
            function executeCode(code) {
                try {
                    // Simpan console.log asli
                    const originalConsoleLog = console.log;
                    
                    // Override console.log untuk menangkap output
                    console.log = function(...args) {
                        originalConsoleLog.apply(console, args);
                        
                        // Format output untuk console kita
                        const output = args.map(arg => {
                            if (typeof arg === 'object') {
                                return JSON.stringify(arg, null, 2);
                            }
                            return String(arg);
                        }).join(' ');
                        
                        // Tambahkan ke output console
                        const outputLine = document.createElement('div');
                        outputLine.textContent = '> ' + output;
                        outputConsole.appendChild(outputLine);
                        
                        // Scroll ke bawah
                        outputConsole.scrollTop = outputConsole.scrollHeight;
                    };
                    
                    // Jalankan kode
                    eval(code);
                    
                    // Kembalikan console.log asli
                    console.log = originalConsoleLog;
                    
                } catch (error) {
                    // Tampilkan error di console
                    const errorLine = document.createElement('div');
                    errorLine.style.color = '#ff6b6b';
                    errorLine.textContent = '> Error: ' + error.message;
                    outputConsole.appendChild(errorLine);
                    
                    // Scroll ke bawah
                    outputConsole.scrollTop = outputConsole.scrollHeight;
                }
            }
            
            // Update karakter count
            function updateCharCount() {
                charCount.textContent = outputCode.value.length + ' karakter';
            }
            
            // Event listeners
            obfuscateBtn.addEventListener('click', function() {
                const code = inputCode.value.trim();
                if (!code) {
                    outputCode.value = "Masukkan kode JavaScript terlebih dahulu!";
                    return;
                }
                
                try {
                    let obfuscatedCode;
                    
                    switch(currentLevel) {
                        case 'basic':
                            obfuscatedCode = basicObfuscate(code);
                            break;
                        case 'medium':
                            obfuscatedCode = mediumObfuscate(code);
                            break;
                        case 'advanced':
                            obfuscatedCode = advancedObfuscate(code);
                            break;
                        case 'extreme':
                            obfuscatedCode = extremeObfuscate(code);
                            break;
                        default:
                            obfuscatedCode = basicObfuscate(code);
                    }
                    
                    outputCode.value = obfuscatedCode;
                    updateCharCount();
                    
                } catch (error) {
                    outputCode.value = "Terjadi error saat obfuscation: " + error.message;
                }
            });
            
            deobfuscateBtn.addEventListener('click', function() {
                // Untuk deobfuscation sederhana - dalam implementasi nyata 
                // akan lebih kompleks tergantung teknik obfuscation yang digunakan
                outputCode.value = "Fitur deobfuscation penuh memerlukan analisis kode yang lebih mendalam.";
            });
            
            executeBtn.addEventListener('click', function() {
                const codeToExecute = outputCode.value || inputCode.value;
                if (!codeToExecute.trim()) {
                    const errorLine = document.createElement('div');
                    errorLine.style.color = '#ff6b6b';
                    errorLine.textContent = '> Error: Tidak ada kode untuk dijalankan';
                    outputConsole.appendChild(errorLine);
                    return;
                }
                
                executeCode(codeToExecute);
            });
            
            copyBtn.addEventListener('click', function() {
                if (!outputCode.value) return;
                
                outputCode.select();
                document.execCommand('copy');
                
                // Visual feedback
                const originalText = copyBtn.innerHTML;
                copyBtn.innerHTML = '<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="20 6 9 17 4 12"></polyline></svg> Tersalin!';
                
                setTimeout(() => {
                    copyBtn.innerHTML = originalText;
                }, 2000);
            });
            
            loadExampleBtn.addEventListener('click', function() {
                inputCode.value = exampleCode;
            });
            
            clearConsoleBtn.addEventListener('click', function() {
                outputConsole.innerHTML = '';
            });
            
            // Inisialisasi
            updateCharCount();
        });
    </script>
</body>
</html>
